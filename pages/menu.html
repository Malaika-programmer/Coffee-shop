<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu - Coffee Break</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">

    <style>
        /* --- 1. HERO SECTION --- */
        .menu-hero {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(rgba(59, 42, 30, 0.9), rgba(59, 42, 30, 0.9)), url('/assets/images/cafe.gif');
            background-size: cover;
            background-position: center;
            color: white;
            border-radius: 0 0 30px 30px;
            margin-bottom: 30px;
        }
        .menu-hero h1 { font-size: 2.5rem; margin-bottom: 10px; font-family: 'Georgia', serif; }
        .menu-hero p { opacity: 0.9; font-size: 1.1rem; }

        /* --- 2. CATEGORY TABS --- */
        .category-tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            overflow-x: auto;
            padding: 10px;
        }
        .cat-btn {
            background: white;
            border: 1px solid #ddd;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            color: var(--primary-brown);
            transition: 0.3s;
            white-space: nowrap;
        }
        .cat-btn.active, .cat-btn:hover {
            background: var(--primary-brown);
            color: white;
            border-color: var(--primary-brown);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(59, 42, 30, 0.3);
        }

        /* --- 3. MENU GRID --- */
        .menu-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px 80px;
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* Default Mobile: 2 cols */
            gap: 20px;
        }

        /* --- 4. PREMIUM CARD DESIGN --- */
        .product-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        /* Badge (e.g. Best Seller) */
        .badge {
            position: absolute;
            top: 10px; left: 10px;
            background: var(--accent-gold);
            color: white;
            font-size: 0.7rem;
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: bold;
            z-index: 2;
        }
        
        .fav-icon {
            position: absolute;
            top: 10px; right: 10px;
            background: white;
            width: 30px; height: 30px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            color: #ccc;
            cursor: pointer;
            z-index: 2;
            transition: 0.3s;
        }
        .fav-icon:hover, .fav-icon.active { color: #ff4d4d; }

        .img-box {
            height: 180px;
            overflow: hidden;
            background: #f4f4f4;
        }
        .img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        .product-card:hover img { transform: scale(1.1); }

        .details {
            padding: 15px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .details h3 {
            font-size: 1rem;
            color: var(--primary-brown);
            margin: 0 0 5px;
            font-weight: 800;
        }
        .details p {
            font-size: 0.8rem;
            color: #777;
            margin-bottom: 15px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
        }
        .price {
            font-size: 1.2rem;
            color: var(--primary-brown);
            font-weight: bold;
        }

        /* --- 5. ACTION BUTTONS --- */
        .action-row {
            margin-top: 15px;
            display: flex;
            gap: 8px;
        }
        .btn-add {
            flex: 1;
            background: var(--primary-brown);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 10px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: 0.2s;
        }
        .btn-add:hover { background: var(--accent-gold); }

        .btn-direct {
            flex: 1;
            background: white;
            border: 2px solid var(--accent-gold);
            color: var(--accent-gold);
            padding: 8px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }
        .btn-direct:hover { background: var(--accent-gold); color: white; }

        /* Edit Button (Small Icon) */
        .btn-edit {
            width: 35px;
            background: #f0f0f0;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            color: #555;
            display: flex; align-items: center; justify-content: center;
        }
        .btn-edit:hover { background: #e0e0e0; }

        /* Responsive Breakpoints */
        @media (min-width: 768px) {
            .menu-grid { grid-template-columns: repeat(3, 1fr); gap: 25px; }
            .img-box { height: 220px; }
        }
        @media (min-width: 1024px) {
            .menu-grid { grid-template-columns: repeat(4, 1fr); }
        }
    </style>
</head>
<body>

    <div id="header-placeholder"></div>

    <div class="menu-hero">
        <h1>Discover Our Menu</h1>
        <p>Expertly roasted coffee & delicious treats</p>
    </div>

    <div class="category-tabs">
        <button class="cat-btn active" onclick="filterMenu('all')">All</button>
        <button class="cat-btn" onclick="filterMenu('hot')">Hot Coffee</button>
        <button class="cat-btn" onclick="filterMenu('iced')">Iced Coffee</button>
        <button class="cat-btn" onclick="filterMenu('snack')">Snacks</button>
    </div>

    <section class="menu-container">
        <div class="menu-grid">
            
            <div class="product-card iced">
                <span class="badge">Best Seller</span>
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/Iced Spanish Latte.jpeg" alt="Spanish Latte"></div>
                <div class="details">
                    <h3>Iced Spanish Latte</h3>
                    <p>Rich espresso with sweetened condensed milk over ice.</p>
                    <div class="price-row"><span class="price">$4.50</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Iced Spanish Latte', 4.50)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Iced Spanish Latte', 4.50)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Iced%20Spanish%20Latte&price=4.50" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

            <div class="product-card hot">
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/coffee_delivery.png" alt="Cappuccino"></div>
                <div class="details">
                    <h3>Classic Cappuccino</h3>
                    <p>Equal parts espresso, steamed milk, and velvety foam.</p>
                    <div class="price-row"><span class="price">$3.75</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Cappuccino', 3.75)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Cappuccino', 3.75)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Cappuccino&price=3.75" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

            <div class="product-card hot">
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/imgg.png" alt="Macchiato"></div>
                <div class="details">
                    <h3>Caramel Macchiato</h3>
                    <p>Vanilla syrup, steamed milk, espresso, and caramel drizzle.</p>
                    <div class="price-row"><span class="price">$4.75</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Caramel Macchiato', 4.75)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Caramel Macchiato', 4.75)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Caramel%20Macchiato&price=4.75" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

            <div class="product-card iced">
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/ice americano.jpeg" alt="Americano"></div>
                <div class="details">
                    <h3>Iced Americano</h3>
                    <p>Bold espresso shot poured over chilled water.</p>
                    <div class="price-row"><span class="price">$2.50</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Iced Americano', 2.50)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Iced Americano', 2.50)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Ice%20Americano&price=2.50" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

            <div class="product-card hot">
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/Mocha Coffee.jpeg" alt="Mocha"></div>
                <div class="details">
                    <h3>Dark Mocha</h3>
                    <p>Rich chocolate sauce blended with espresso.</p>
                    <div class="price-row"><span class="price">$4.50</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Dark Mocha', 4.50)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Dark Mocha', 4.50)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Dark%20Mocha&price=4.50" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

            <div class="product-card hot">
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/Irish Latte.jpeg" alt="Irish Latte"></div>
                <div class="details">
                    <h3>Irish Cream Latte</h3>
                    <p>Creamy nutty flavor with a hint of vanilla.</p>
                    <div class="price-row"><span class="price">$5.25</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Irish Cream Latte', 5.25)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Irish Cream Latte', 5.25)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Irish%20Latte&price=5.25" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

            <div class="product-card iced">
                <span class="badge" style="background:#9b59b6;">New</span>
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/Lavender Honey Iced Coffee.jpeg" alt="Lavender"></div>
                <div class="details">
                    <h3>Lavender Honey</h3>
                    <p>Floral lavender notes with natural honey sweetness.</p>
                    <div class="price-row"><span class="price">$4.00</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Lavender Honey', 4.00)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Lavender Honey', 4.00)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Lavender%20Honey&price=4.00" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

            <div class="product-card hot">
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/coffee-icon.png" alt="Espresso"></div>
                <div class="details">
                    <h3>Double Espresso</h3>
                    <p>A strong, concentrated shot of pure coffee.</p>
                    <div class="price-row"><span class="price">$2.00</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Double Espresso', 2.00)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Double Espresso', 2.00)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Double%20Espresso&price=2.00" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

            <div class="product-card snack">
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/premium1.png" alt="Croissant"></div>
                <div class="details">
                    <h3>Butter Croissant</h3>
                    <p>Flaky, buttery, and freshly baked every morning.</p>
                    <div class="price-row"><span class="price">$2.50</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Butter Croissant', 2.50)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Butter Croissant', 2.50)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Croissant&price=2.50" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

            <div class="product-card snack">
                <div class="fav-icon"><i class="fas fa-heart"></i></div>
                <div class="img-box"><img src="/assets/images/coffee-icon.png" alt="Muffin"></div>
                <div class="details">
                    <h3>Chocolate Muffin</h3>
                    <p>Decadent chocolate muffin with choco chips.</p>
                    <div class="price-row"><span class="price">$3.00</span></div>
                    <div class="action-row">
                        <button class="btn-direct" onclick="directOrder('Choco Muffin', 3.00)">Order</button>
                        <button class="btn-add" onclick="quickAdd('Choco Muffin', 3.00)"><i class="fas fa-plus"></i></button>
                        <a href="/pages/customize.html?coffee=Muffin&price=3.00" class="btn-edit"><i class="fas fa-sliders-h"></i></a>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <div id="footer-placeholder"></div>
    <script src="/assets/js/app.js"></script>

    <script>
        // 1. FILTER FUNCTION
        function filterMenu(category) {
            const items = document.querySelectorAll('.product-card');
            const btns = document.querySelectorAll('.cat-btn');
            
            // Toggle active button
            btns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            items.forEach(item => {
                if (category === 'all' || item.classList.contains(category)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // 2. DIRECT ORDER (Works now!)
        function directOrder(name, price) {
            // Save single item to Session Storage so Order Page sees it
            const item = [{
                name: name,
                details: "Standard (Regular)",
                price: price,
                quantity: 1
            }];
            sessionStorage.setItem('checkout_items', JSON.stringify(item));
            
            // Redirect
            window.location.href = '/pages/orderpage.html';
        }

        // 3. QUICK ADD TO CART
        function quickAdd(name, price) {
            let cart = JSON.parse(localStorage.getItem('coffee_cart')) || [];
            let exist = cart.find(x => x.name === name);
            
            if(exist) exist.quantity++;
            else cart.push({ name: name, details: "Standard", price: price, quantity: 1 });
            
            localStorage.setItem('coffee_cart', JSON.stringify(cart));
            updateGlobalCartCount();
            
            // Tiny animation/feedback
            alert(name + " Added!");
        }

        // 4. HEART ICON TOGGLE
        document.querySelectorAll('.fav-icon').forEach(icon => {
            icon.addEventListener('click', function() {
                this.classList.toggle('active');
                if(this.classList.contains('active')) {
                    this.style.color = '#ff4d4d';
                } else {
                    this.style.color = '#ccc';
                }
            });
        });
    </script>
</body>
</html>